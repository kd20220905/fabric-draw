import{g as b,r as c,o as y,a as d,c as u,b as e,w as p,v as f,d as _,F as k,e as x,n as C,p as D,f as B}from"./index.18f9df7a.js";import{_ as F,f as I}from"./_plugin-vue_export-helper.430f6fd5.js";const S=s=>(D("data-v-387e3e06"),s=s(),B(),s),M={class:"flex items-end"},E={class:"relative range-bar -rotate-90 -translate-y-40 translate-x-24"},N=S(()=>e("canvas",{id:"c",class:"rect",width:"500",height:"500"},null,-1)),R={class:"my-5 flex items-center justify-between"},V=["onClick"],$={__name:"DrawRoom",setup(s){b();const t=c(null),m=c(["#ffffff","#000000","#EA0000","#FF8000","#F9F900","#019858","#8600FF","#7373B9"]),n=c("#000000"),l=c("10"),h=()=>{t.value.clear()},w=r=>{n.value=r,v()},v=()=>{t.value.freeDrawingBrush.color=n.value},g=()=>{t.value.freeDrawingBrush.width=parseInt(l.value,10)};y(()=>{t.value=new I.fabric.Canvas("c",{isDrawingMode:!0}),t.value.freeDrawingBrush.color=n.value,t.value.freeDrawingBrush.width=parseInt(l.value,10)});const i=new WebSocket("wss://fabric-2022-10-27.herokuapp.com/");return i.onopen=()=>{console.log("open connection")},i.onclose=()=>{console.log("close connection")},setInterval(function(){let r=t.value.toJSON();i.send(JSON.stringify(r))},1e3),(r,a)=>(d(),u("div",M,[e("div",E,[p(e("input",{class:"translate-y-1/2 bottom-1/2",type:"range",name:"width",id:"width",min:"1",max:"50",onChange:g,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value=o)},null,544),[[f,l.value]])]),e("div",null,[N,e("div",R,[e("button",{class:"border rounded-md p-2 text-slate-400 hover:text-black hover:border-black",onClick:a[1]||(a[1]=_(o=>h(),["prevent"]))}," \u6E05\u7A7A "),e("div",null,[(d(!0),u(k,null,x(m.value,o=>(d(),u("button",{class:"border p-1 rounded-full mr-1 hover:border-slate-600",key:o,onClick:_(A=>w(o),["prevent"])},[e("div",{class:"color-ball border rounded-full",style:C(`background: ${o}`)},null,4)],8,V))),128))]),p(e("input",{class:"h-10 my-auto",type:"color",name:"color",id:"color","onUpdate:modelValue":a[2]||(a[2]=o=>n.value=o),onChange:v},null,544),[[f,n.value]])])])]))}},U=F($,[["__scopeId","data-v-387e3e06"]]);export{U as default};
